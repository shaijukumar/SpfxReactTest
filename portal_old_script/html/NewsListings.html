
<section class="container"  ng-controller="NewsDetailsCtrl" ng-init="NewsListingInit()" >
	<!--div class="breadcrumbWrapper">
          <a href="{{GeneralSettings.SubSiteUrl}}" class="breadcrumb">{{NewsPanel.Home}}</a>
          <span class="breadcrumb">{{NewsPanel.News}}</span>       
     </div-->
    <h1>{{NewsPanel.News}}</h1>
    <div class="divider"></div>
    <div class="row">        
        <!-- left column -->
        <div class="col s12  l3 hide-on-med-and-down">
            <div class="card filter">
                <div class="card-content">
                    <span class="card-title">{{SearchPanel.Filter}} </span>
                    
                    <!--a href="#" class="clearall btn btnclear" ng-click="ClearAll()"><img src="/_catalogs/masterpage/GSMOPA/Images/btnclear.svg"></a-->
                    <p>
                         <span ng-repeat="department in departments" ng-class="SelctedDepartmentFilter == department.Name ? 'SelectedDept' : '' "  class="badgeTag toggle" ng-click="FilterDepartment(department)"  ><span></span>{{department.Name}}</span>						 
                    </p>
                    
                    <div class="">
                   		 <label>{{SearchPanel.SearchKeyword}}</label>
                        <input type="text" class="w-100 closeClear" id="searchkeyword"  autocomplete="off" ng-model="docSearchString"/>
                    </div>
                    <h5>{{SearchPanel.Category}}</h5>
                	<div ng-repeat="category in categories" id="categorieschkboxes">
                            
                            <label for="Category{{category.ID}}" class="inputCheck"> {{category.Name}} 
                            	<input type="checkbox" class="filled-in" id="Category{{category.ID}}" ng-model="category.Value" />
                            	<span class="checkmark"></span>
                            </label>
                    </div>
                    <h5>{{SearchPanel.Timeperiod}}</h5>
                    <!--div class="date-field">
                        <label for="fromDate">{{SearchPanel.FromDate}}</label>  
                        <input id="fromDate" type="text" class="validate date"  autocomplete="off" placeholder={{SearchPanel.DateFormat}} onchange="validateDate(this)" >
                    </div>
                    <div class="date-field">
                        <label for="toDate">{{SearchPanel.ToDate}}</label>
                        <input id="toDate" type="text" class="validate date"  autocomplete="off" placeholder={{SearchPanel.DateFormat}}  onchange="validateDate(this)" >
                    </div-->
                     <div class="date-field">
                        <!--label for="fromDate">{{SearchPanel.FromDate}} - {{SearchPanel.ToDate}}</label-->  
                        <input name="dateSearchStartDate" id="dateSearchStartDate" type="text" class="validate date dateRangePickerInline"  autocomplete="off" placeholder={{SearchPanel.DateFormat}}  readonly="readonly" >
                    </div>
					    <input type="button" class="btn" value={{SearchPanel.Filter}} ng-click="search()" />
                        <a href="#" class="btn btn-flat" ng-click="ClearAll()">{{SearchPanel.ClearAll}} </a>
                </div>
            </div>
        </div>
        <!-- left column end -->        
        <!-- right column -->
        <div class="col s12 m12 l9">
            <div >
                <div class="card listing" dir-paginate="x in newsListingData |filter:{ ArticleByLine : docSearchString, Department:SelctedDepartmentFilter} |categoryFilter:categories | dateSearchFilter:DateSearch   |orderBy:['-ArticleStartDate ','-ID'] | itemsPerPage: 5" current-page="currentPage" >             
                  <div class="card-content row">
               		   <div class="col s12 m3">
						<a href="{{GeneralSettings.SubSiteUrl}}/Pages/newsDetails.aspx?newsId={{x.ID}}" class="image">
							<div style="background: url({{x.PublishingPageImage}});"></div>
						</a>
                      </div>	
					  <div class="col s12 m9" >
                          <a href="{{GeneralSettings.SubSiteUrl}}/Pages/newsDetails.aspx?newsId={{x.ID}}">
                                <h6>{{x.ArticleByLine |limitTo : 160}}{{x.ArticleByLine.length > 160 ? '...' : ''}}</h6>
                         </a>
                        <p >{{x.PublishingPageContent |limitTo : 260}}{{x.PublishingPageContent.length > 260 ? '...' : ''}}</p>
                        <p>
                        	<span class="badgeTag {{x.tagName}}"><span></span>{{x.Department}}</span>&nbsp;| 
                        	<span  class="date">{{x.ArticleStartDate | date: "dd/MM/yyyy" }} </span></p>
                      </div>                     
                    </div>           
                </div>
                <!-- Paging -->
               <div ui-view ></div>
    		   <dir-pagination-controls class="pagination" ></dir-pagination-controls>
            </div>
        </div>
    </div>
</section>
<style type="text/css">
.ms-breadcrumb-box, .ms-cui-ribbonTopBars, #s4-ribbonrow, #sideNavBox{
	display: none;
}
#s4-titlerow{
	height: 0;
	padding: 0;
}

div.article, div.welcome{
	padding: 0;
}
/*
.filter .badgeTag{
	cursor:auto;
}*/

</style>
<html xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"><head>
<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:_dlc_DocId msdt:dt="string">AUVUK7J5Z7FY-2140384586-16</mso:_dlc_DocId>
<mso:_dlc_DocIdItemGuid msdt:dt="string">d4e444fb-d8a4-47f3-ae0f-4c193e11081d</mso:_dlc_DocIdItemGuid>
<mso:_dlc_DocIdUrl msdt:dt="string">http://itdev-spsapp:31648/ar-ae/_layouts/15/DocIdRedir.aspx?ID=AUVUK7J5Z7FY-2140384586-16, AUVUK7J5Z7FY-2140384586-16</mso:_dlc_DocIdUrl>
</mso:CustomDocumentProperties>
</xml><![endif]-->

<script src="/_catalogs/masterpage/GSMOPA/portal/JS/NewsCtrl.js" type="text/javascript"></script>